# GNTECH Jellyfin Guardian - Remote Storage Configuration
# This file is automatically created during first run
# Edit these settings to configure remote backup storage

# === REMOTE STORAGE SETTINGS ===

# Enable remote storage (true/false)
REMOTE_STORAGE_ENABLED=true

# Storage type: sftp, s3, nfs, ftp, rclone
REMOTE_STORAGE_TYPE=sftp

# === SFTP/SSH CONFIGURATION ===
SFTP_HOST=test
SFTP_PORT=22
SFTP_USER=gnolasco
SFTP_PATH=/home/backups/jellyfin
SFTP_KEY_FILE=/home/gntech/.ssh/id_rsa

# === S3 CONFIGURATION ===
S3_ENDPOINT=
S3_BUCKET=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_REGION=us-east-1
S3_PATH=jellyfin-backups

# === NFS CONFIGURATION ===
NFS_HOST=
NFS_PATH=/exports/backups
NFS_MOUNT_POINT=/mnt/backup-storage
NFS_OPTIONS=rw,sync,hard,intr

# === FTP CONFIGURATION ===
FTP_HOST=
FTP_PORT=21
FTP_USER=
FTP_PASS=
FTP_PATH=/backups/jellyfin
FTP_PASSIVE=true

# === RCLONE CONFIGURATION ===
RCLONE_REMOTE=remote:
RCLONE_PATH=jellyfin-backups

# === RETENTION POLICIES ===

# Local retention (keep last N backups locally)
LOCAL_RETENTION=1

# Remote retention (keep last N backups on remote storage)
REMOTE_RETENTION=3

# Enable long-term archive (monthly backups)
LONGTERM_ARCHIVE=false
LONGTERM_RETENTION=12

# === TRANSFER SETTINGS ===

# Upload after successful backup (true/false)
AUTO_UPLOAD=true

# Delete local backup after successful upload (true/false)
DELETE_LOCAL_AFTER_UPLOAD=true

# Verify remote upload integrity (true/false)
VERIFY_REMOTE_UPLOAD=true

# Compression for remote transfer (if not already compressed)
REMOTE_COMPRESSION=true

# Transfer timeout in seconds
TRANSFER_TIMEOUT=3600

# Retry attempts for failed transfers
TRANSFER_RETRIES=3

# === NOTIFICATION SETTINGS ===

# Send notifications on backup completion (true/false)
NOTIFICATIONS_ENABLED=false

# Notification method: email, webhook, slack
NOTIFICATION_METHOD=email

# Email settings (for email notifications)
EMAIL_TO=
EMAIL_FROM=
EMAIL_SMTP_HOST=
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=
EMAIL_SMTP_PASS=

# Webhook URL (for webhook notifications)
WEBHOOK_URL=

# Slack webhook (for Slack notifications)
SLACK_WEBHOOK=

# === SECURITY SETTINGS ===

# Encrypt backups before remote storage (true/false)
ENCRYPT_REMOTE_BACKUPS=false

# Encryption password (leave empty to prompt)
ENCRYPTION_PASSWORD=

# GPG key ID for encryption (alternative to password)
GPG_KEY_ID=

# === ADVANCED SETTINGS ===

# Bandwidth limit for transfers (KB/s, 0 = unlimited)
BANDWIDTH_LIMIT=0

# Use parallel transfers (true/false)
PARALLEL_TRANSFERS=false

# Number of parallel transfer threads
PARALLEL_THREADS=2

# Sync mode: upload_only, sync_bidirectional, mirror
SYNC_MODE=upload_only

# Enable resume for interrupted transfers
RESUME_TRANSFERS=true

# Log transfer details (true/false)
LOG_TRANSFERS=true
